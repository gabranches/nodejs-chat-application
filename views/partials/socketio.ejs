<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="http://code.jquery.com/jquery-1.11.1.js"></script> 

<script>
  
  var socket = io()
  
  socket.on('connect', function () { 
    // Send client info to server
    socket.emit('user-connect', client)
    client.socketID = socket.io.engine.id
  });

  $('form').submit(function(){
    // Send message to server
    client.msg = $('#message').val()
    socket.emit('msg-to-server', client)
    printMessage({sender: client.socketID, msg: client.msg})
    $('#message').val('')
    return false
  });

  // Receive message from server
  socket.on('msg-to-room', function(data){
    if (data.sender !== client.socketID) {
      printMessage(data)
      flashTitle(client.room)
    }
  });

  // Update room status info
  socket.on('room-status', function(data){
    console.log('Received room info.')
    $('#active-users').html('Active Users: ' + data.msg.users)
  });

</script>
